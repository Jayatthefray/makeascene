{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport aiService from \"../lib/ai/aiService\";\nimport { deviceService } from \"../lib/multiDevice/deviceService\";\nimport { useProject } from \"../src/contexts/ProjectContext\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CreateSceneScreen = function CreateSceneScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(1),\n    _useState2 = _slicedToArray(_useState, 2),\n    step = _useState2[0],\n    setStep = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = useState({\n      genre: 'drama',\n      actorCount: 2,\n      location: 'indoor',\n      timeOfDay: 'day',\n      experienceLevel: 'beginner',\n      equipment: ['smartphone'],\n      maxDuration: 60\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    constraints = _useState8[0],\n    setConstraints = _useState8[1];\n  var _useState9 = useState(null),\n    _useState0 = _slicedToArray(_useState9, 2),\n    generatedPrompt = _useState0[0],\n    setGeneratedPrompt = _useState0[1];\n  var _useState1 = useState(null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    storyboard = _useState10[0],\n    setStoryboard = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    sketchImages = _useState12[0],\n    setSketchImages = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    multiDeviceEnabled = _useState14[0],\n    setMultiDeviceEnabled = _useState14[1];\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    deviceStatus = _useState16[0],\n    setDeviceStatus = _useState16[1];\n  var _useState17 = useState(null),\n    _useState18 = _slicedToArray(_useState17, 2),\n    collaborationCode = _useState18[0],\n    setCollaborationCode = _useState18[1];\n  var _useProject = useProject(),\n    addProject = _useProject.addProject;\n  useEffect(function () {\n    deviceService.initialize();\n  }, []);\n  var renderConstraintsStep = function renderConstraintsStep() {\n    return _jsxs(View, {\n      style: styles.stepContainer,\n      children: [_jsx(Text, {\n        style: styles.stepTitle,\n        children: \"\\uD83C\\uDFAC Scene Setup\"\n      }), _jsx(Text, {\n        style: styles.stepSubtitle,\n        children: \"Configure your filming constraints\"\n      }), _jsxs(View, {\n        style: styles.constraintSection,\n        children: [_jsx(Text, {\n          style: styles.constraintLabel,\n          children: \"Genre\"\n        }), _jsx(ScrollView, {\n          horizontal: true,\n          showsHorizontalScrollIndicator: false,\n          style: styles.genreScrollView,\n          children: ['horror', 'comedy', 'romance', 'drama', 'action', 'mystery'].map(function (genre) {\n            return _jsx(TouchableOpacity, {\n              style: [styles.genreButton, constraints.genre === genre && styles.selectedGenreButton],\n              onPress: function onPress() {\n                return setConstraints(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    genre: genre\n                  });\n                });\n              },\n              children: _jsx(Text, {\n                style: [styles.genreText, constraints.genre === genre && styles.selectedGenreText],\n                children: genre.charAt(0).toUpperCase() + genre.slice(1)\n              })\n            }, genre);\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.constraintSection,\n        children: [_jsxs(Text, {\n          style: styles.constraintLabel,\n          children: [\"Number of Actors: \", constraints.actorCount]\n        }), _jsx(View, {\n          style: styles.actorCountContainer,\n          children: [1, 2, 3, 4, 5, 6].map(function (count) {\n            return _jsx(TouchableOpacity, {\n              style: [styles.actorCountButton, constraints.actorCount === count && styles.selectedActorButton],\n              onPress: function onPress() {\n                return setConstraints(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    actorCount: count\n                  });\n                });\n              },\n              children: _jsx(Text, {\n                style: [styles.actorCountText, constraints.actorCount === count && styles.selectedActorText],\n                children: count\n              })\n            }, count);\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.constraintSection,\n        children: [_jsx(Text, {\n          style: styles.constraintLabel,\n          children: \"Location\"\n        }), _jsx(View, {\n          style: styles.locationContainer,\n          children: [{\n            key: 'indoor',\n            label: 'üè† Indoor',\n            icon: 'üè†'\n          }, {\n            key: 'outdoor',\n            label: 'üå≥ Outdoor',\n            icon: 'üå≥'\n          }, {\n            key: 'mixed',\n            label: 'üåç Mixed',\n            icon: 'üåç'\n          }].map(function (location) {\n            return _jsxs(TouchableOpacity, {\n              style: [styles.locationButton, constraints.location === location.key && styles.selectedLocationButton],\n              onPress: function onPress() {\n                return setConstraints(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    location: location.key\n                  });\n                });\n              },\n              children: [_jsx(Text, {\n                style: styles.locationIcon,\n                children: location.icon\n              }), _jsx(Text, {\n                style: [styles.locationText, constraints.location === location.key && styles.selectedLocationText],\n                children: location.label.split(' ')[1]\n              })]\n            }, location.key);\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.constraintSection,\n        children: [_jsx(Text, {\n          style: styles.constraintLabel,\n          children: \"Experience Level\"\n        }), _jsx(View, {\n          style: styles.experienceContainer,\n          children: [{\n            key: 'beginner',\n            label: 'Beginner'\n          }, {\n            key: 'intermediate',\n            label: 'Intermediate'\n          }, {\n            key: 'advanced',\n            label: 'Advanced'\n          }].map(function (level) {\n            return _jsx(TouchableOpacity, {\n              style: [styles.experienceButton, constraints.experienceLevel === level.key && styles.selectedExperienceButton],\n              onPress: function onPress() {\n                return setConstraints(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    experienceLevel: level.key\n                  });\n                });\n              },\n              children: _jsx(Text, {\n                style: [styles.experienceText, constraints.experienceLevel === level.key && styles.selectedExperienceText],\n                children: level.label\n              })\n            }, level.key);\n          })\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.nextButton,\n        onPress: function onPress() {\n          return setStep(2);\n        },\n        children: _jsx(Text, {\n          style: styles.nextButtonText,\n          children: \"Generate Scene Prompt \\uD83D\\uDE80\"\n        })\n      })]\n    });\n  };\n  var generateScenePrompt = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setLoading(true);\n      setError(null);\n      try {\n        var validation = aiService.validateConstraints(constraints);\n        if (!validation.isValid) {\n          throw new Error(`Invalid constraints: ${validation.violations.join(', ')}`);\n        }\n        var result = yield aiService.generateStoryPrompt(constraints);\n        if (!result.success) {\n          throw new Error(result.error);\n        }\n        setGeneratedPrompt(result.data);\n        setStep(3);\n      } catch (err) {\n        setError(err.message);\n        Alert.alert('Generation Error', err.message);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function generateScenePrompt() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var generateStoryboard = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      setLoading(true);\n      setError(null);\n      try {\n        var storyboardResult = yield aiService.generateStoryboard(generatedPrompt, constraints);\n        if (!storyboardResult.success) {\n          throw new Error(storyboardResult.error);\n        }\n        setStoryboard(storyboardResult.data);\n        var sketches = {};\n        for (var shot of storyboardResult.data.shots) {\n          var sketchResult = yield aiService.generateSketchStoryboard(shot.description, shot.shotType);\n          if (sketchResult.success) {\n            sketches[shot.shotNumber] = sketchResult.data.imageUrl;\n          }\n        }\n        setSketchImages(sketches);\n        setStep(4);\n      } catch (err) {\n        setError(err.message);\n        Alert.alert('Storyboard Error', err.message);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function generateStoryboard() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var renderGenerateStep = function renderGenerateStep() {\n    return _jsxs(View, {\n      style: styles.stepContainer,\n      children: [_jsx(Text, {\n        style: styles.stepTitle,\n        children: \"\\u2728 AI Scene Generation\"\n      }), !generatedPrompt && _jsxs(View, {\n        style: styles.generateContainer,\n        children: [_jsxs(Text, {\n          style: styles.generateDescription,\n          children: [\"Ready to create your \", constraints.genre, \" scene with \", constraints.actorCount, \" actor(s) in an \", constraints.location, \" location!\"]\n        }), _jsx(TouchableOpacity, {\n          style: [styles.generateButton, loading && styles.disabledButton],\n          onPress: generateScenePrompt,\n          disabled: loading,\n          children: loading ? _jsx(ActivityIndicator, {\n            color: \"#FFFFFF\"\n          }) : _jsx(Text, {\n            style: styles.generateButtonText,\n            children: \"\\uD83C\\uDFAD Generate Scene\"\n          })\n        })]\n      }), generatedPrompt && _jsxs(View, {\n        style: styles.promptContainer,\n        children: [_jsx(Text, {\n          style: styles.promptTitle,\n          children: generatedPrompt.title\n        }), _jsx(Text, {\n          style: styles.promptDescription,\n          children: generatedPrompt.description\n        }), _jsxs(View, {\n          style: styles.promptDetails,\n          children: [_jsx(Text, {\n            style: styles.detailLabel,\n            children: \"Duration:\"\n          }), _jsxs(Text, {\n            style: styles.detailValue,\n            children: [generatedPrompt.estimatedDuration, \"s\"]\n          })]\n        }), generatedPrompt.dialogue && _jsxs(View, {\n          style: styles.dialogueContainer,\n          children: [_jsx(Text, {\n            style: styles.detailLabel,\n            children: \"Dialogue:\"\n          }), _jsx(Text, {\n            style: styles.dialogueText,\n            children: generatedPrompt.dialogue\n          })]\n        }), _jsxs(View, {\n          style: styles.instructionsContainer,\n          children: [_jsx(Text, {\n            style: styles.detailLabel,\n            children: \"Blocking Instructions:\"\n          }), _jsx(Text, {\n            style: styles.instructionsText,\n            children: generatedPrompt.blockingInstructions\n          })]\n        }), _jsxs(View, {\n          style: styles.actionButtons,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.regenerateButton,\n            onPress: generateScenePrompt,\n            children: _jsx(Text, {\n              style: styles.regenerateButtonText,\n              children: \"\\uD83D\\uDD04 Regenerate\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.continueButton,\n            onPress: generateStoryboard,\n            children: _jsx(Text, {\n              style: styles.continueButtonText,\n              children: \"Create Storyboard \\uD83C\\uDFA8\"\n            })\n          })]\n        })]\n      })]\n    });\n  };\n  var renderStoryboardStep = function renderStoryboardStep() {\n    return _jsxs(View, {\n      style: styles.stepContainer,\n      children: [_jsx(Text, {\n        style: styles.stepTitle,\n        children: \"\\uD83C\\uDFA8 Professional Storyboard\"\n      }), storyboard && _jsx(ScrollView, {\n        style: styles.storyboardContainer,\n        children: storyboard.shots.map(function (shot, index) {\n          return _jsxs(View, {\n            style: styles.shotCard,\n            children: [_jsxs(View, {\n              style: styles.shotHeader,\n              children: [_jsxs(Text, {\n                style: styles.shotNumber,\n                children: [\"Shot \", shot.shotNumber]\n              }), _jsx(Text, {\n                style: styles.shotType,\n                children: shot.shotType.replace('_', ' ')\n              }), _jsxs(Text, {\n                style: styles.shotDuration,\n                children: [shot.duration, \"s\"]\n              })]\n            }), sketchImages[shot.shotNumber] && _jsx(Image, {\n              source: {\n                uri: sketchImages[shot.shotNumber]\n              },\n              style: styles.sketchImage,\n              resizeMode: \"contain\"\n            }), _jsx(Text, {\n              style: styles.shotDescription,\n              children: shot.description\n            }), _jsxs(View, {\n              style: styles.shotDetails,\n              children: [_jsx(Text, {\n                style: styles.detailLabel,\n                children: \"Camera:\"\n              }), _jsx(Text, {\n                style: styles.detailValue,\n                children: shot.cameraPosition\n              })]\n            }), _jsxs(View, {\n              style: styles.shotDetails,\n              children: [_jsx(Text, {\n                style: styles.detailLabel,\n                children: \"Actors:\"\n              }), _jsx(Text, {\n                style: styles.detailValue,\n                children: shot.actorPositions\n              })]\n            }), _jsxs(View, {\n              style: styles.difficultyContainer,\n              children: [_jsx(Text, {\n                style: styles.detailLabel,\n                children: \"Difficulty:\"\n              }), _jsx(View, {\n                style: styles.difficultyStars,\n                children: _toConsumableArray(Array(5)).map(function (_, i) {\n                  return _jsx(Text, {\n                    style: styles.star,\n                    children: i < shot.difficulty ? '‚≠ê' : '‚òÜ'\n                  }, i);\n                })\n              })]\n            })]\n          }, shot.shotNumber);\n        })\n      }), _jsxs(View, {\n        style: styles.multiDeviceSection,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"\\uD83D\\uDCF1 Multi-Device Filming\"\n        }), _jsx(TouchableOpacity, {\n          style: [styles.multiDeviceToggle, multiDeviceEnabled && styles.multiDeviceToggleActive],\n          onPress: function onPress() {\n            return setMultiDeviceEnabled(!multiDeviceEnabled);\n          },\n          children: _jsx(Text, {\n            style: [styles.multiDeviceToggleText, multiDeviceEnabled && styles.multiDeviceToggleTextActive],\n            children: multiDeviceEnabled ? 'Multi-Device Enabled' : 'Enable Multi-Device'\n          })\n        }), multiDeviceEnabled && _jsxs(View, {\n          style: styles.multiDeviceControls,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.generateCodeButton,\n            onPress: generateCollaborationCode,\n            children: _jsx(Text, {\n              style: styles.generateCodeButtonText,\n              children: \"Generate Collaboration Code\"\n            })\n          }), collaborationCode && _jsxs(View, {\n            style: styles.collaborationCodeContainer,\n            children: [_jsx(Text, {\n              style: styles.collaborationCodeLabel,\n              children: \"Share this code:\"\n            }), _jsx(Text, {\n              style: styles.collaborationCode,\n              children: collaborationCode\n            })]\n          })]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.startFilmingButton,\n        onPress: startFilming,\n        children: _jsx(Text, {\n          style: styles.startFilmingButtonText,\n          children: \"\\uD83C\\uDFAC Start Filming\"\n        })\n      })]\n    });\n  };\n  var generateCollaborationCode = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var result = deviceService.generateCollaborationCode();\n        setCollaborationCode(result.collaborationCode);\n        setDeviceStatus(deviceService.getDevicesStatus());\n      } catch (error) {\n        Alert.alert('Error', 'Failed to generate collaboration code');\n      }\n    });\n    return function generateCollaborationCode() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var startFilming = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        var projectData = {\n          title: generatedPrompt.title,\n          description: generatedPrompt.description,\n          genre: constraints.genre,\n          storyboard: storyboard,\n          constraints: constraints,\n          multiDeviceEnabled: multiDeviceEnabled,\n          collaborationCode: collaborationCode,\n          status: 'filming'\n        };\n        var project = yield addProject(projectData);\n        navigation.navigate('FilmingScreen', {\n          projectId: project.id,\n          storyboard: storyboard,\n          multiDeviceEnabled: multiDeviceEnabled,\n          deviceRole: deviceService.deviceRole\n        });\n      } catch (error) {\n        Alert.alert('Error', 'Failed to create project: ' + error.message);\n      }\n    });\n    return function startFilming() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        children: _jsx(Text, {\n          style: styles.backButton,\n          children: \"\\u2190 Back\"\n        })\n      }), _jsx(Text, {\n        style: styles.headerTitle,\n        children: \"Create Scene\"\n      }), _jsxs(Text, {\n        style: styles.stepIndicator,\n        children: [\"Step \", step, \"/4\"]\n      })]\n    }), _jsxs(ScrollView, {\n      style: styles.content,\n      children: [error && _jsx(View, {\n        style: styles.errorContainer,\n        children: _jsx(Text, {\n          style: styles.errorText,\n          children: error\n        })\n      }), step === 1 && renderConstraintsStep(), step === 2 && renderGenerateStep(), step === 3 && renderStoryboardStep()]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#1a1a1a'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#333'\n  },\n  backButton: {\n    color: '#FFD700',\n    fontSize: 16\n  },\n  headerTitle: {\n    color: '#FFFFFF',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  stepIndicator: {\n    color: '#FFD700',\n    fontSize: 14\n  },\n  content: {\n    flex: 1,\n    padding: 20\n  },\n  errorContainer: {\n    backgroundColor: '#ff4444',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 20\n  },\n  errorText: {\n    color: '#FFFFFF',\n    textAlign: 'center'\n  },\n  stepContainer: {\n    flex: 1\n  },\n  stepTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    textAlign: 'center',\n    marginBottom: 10\n  },\n  stepSubtitle: {\n    fontSize: 16,\n    color: '#CCC',\n    textAlign: 'center',\n    marginBottom: 30\n  },\n  constraintSection: {\n    marginBottom: 25\n  },\n  constraintLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#FFD700',\n    marginBottom: 10\n  },\n  genreScrollView: {\n    flexDirection: 'row'\n  },\n  genreButton: {\n    backgroundColor: '#333',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 20,\n    marginRight: 10,\n    borderWidth: 1,\n    borderColor: '#555'\n  },\n  selectedGenreButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700'\n  },\n  genreText: {\n    color: '#FFFFFF',\n    fontWeight: '600'\n  },\n  selectedGenreText: {\n    color: '#1a1a1a'\n  },\n  actorCountContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  actorCountButton: {\n    backgroundColor: '#333',\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#555'\n  },\n  selectedActorButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700'\n  },\n  actorCountText: {\n    color: '#FFFFFF',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  selectedActorText: {\n    color: '#1a1a1a'\n  },\n  locationContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  locationButton: {\n    backgroundColor: '#333',\n    flex: 1,\n    alignItems: 'center',\n    padding: 15,\n    borderRadius: 10,\n    marginHorizontal: 5,\n    borderWidth: 1,\n    borderColor: '#555'\n  },\n  selectedLocationButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700'\n  },\n  locationIcon: {\n    fontSize: 24,\n    marginBottom: 5\n  },\n  locationText: {\n    color: '#FFFFFF',\n    fontWeight: '600'\n  },\n  selectedLocationText: {\n    color: '#1a1a1a'\n  },\n  experienceContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  experienceButton: {\n    backgroundColor: '#333',\n    flex: 1,\n    alignItems: 'center',\n    padding: 15,\n    borderRadius: 10,\n    marginHorizontal: 5,\n    borderWidth: 1,\n    borderColor: '#555'\n  },\n  selectedExperienceButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700'\n  },\n  experienceText: {\n    color: '#FFFFFF',\n    fontWeight: '600'\n  },\n  selectedExperienceText: {\n    color: '#1a1a1a'\n  },\n  nextButton: {\n    backgroundColor: '#FFD700',\n    padding: 18,\n    borderRadius: 25,\n    alignItems: 'center',\n    marginTop: 30\n  },\n  nextButtonText: {\n    color: '#1a1a1a',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  generateContainer: {\n    alignItems: 'center',\n    padding: 30\n  },\n  generateDescription: {\n    color: '#CCC',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 30,\n    lineHeight: 24\n  },\n  generateButton: {\n    backgroundColor: '#FFD700',\n    paddingHorizontal: 40,\n    paddingVertical: 15,\n    borderRadius: 25,\n    minWidth: 200,\n    alignItems: 'center'\n  },\n  disabledButton: {\n    backgroundColor: '#666'\n  },\n  generateButtonText: {\n    color: '#1a1a1a',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  promptContainer: {\n    backgroundColor: '#2a2a2a',\n    padding: 20,\n    borderRadius: 15,\n    borderWidth: 1,\n    borderColor: '#FFD700'\n  },\n  promptTitle: {\n    color: '#FFD700',\n    fontSize: 22,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center'\n  },\n  promptDescription: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    lineHeight: 24,\n    marginBottom: 20\n  },\n  promptDetails: {\n    flexDirection: 'row',\n    marginBottom: 15\n  },\n  detailLabel: {\n    color: '#FFD700',\n    fontWeight: 'bold',\n    marginRight: 10\n  },\n  detailValue: {\n    color: '#FFFFFF',\n    flex: 1\n  },\n  dialogueContainer: {\n    marginBottom: 15\n  },\n  dialogueText: {\n    color: '#FFFFFF',\n    fontStyle: 'italic',\n    fontSize: 14,\n    lineHeight: 20\n  },\n  instructionsContainer: {\n    marginBottom: 20\n  },\n  instructionsText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    lineHeight: 20\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  regenerateButton: {\n    backgroundColor: '#666',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 20,\n    flex: 0.45,\n    alignItems: 'center'\n  },\n  regenerateButtonText: {\n    color: '#FFFFFF',\n    fontWeight: '600'\n  },\n  continueButton: {\n    backgroundColor: '#FFD700',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 20,\n    flex: 0.45,\n    alignItems: 'center'\n  },\n  continueButtonText: {\n    color: '#1a1a1a',\n    fontWeight: 'bold'\n  },\n  storyboardContainer: {\n    maxHeight: 400,\n    marginBottom: 20\n  },\n  shotCard: {\n    backgroundColor: '#2a2a2a',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 15,\n    borderWidth: 1,\n    borderColor: '#444'\n  },\n  shotHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10\n  },\n  shotNumber: {\n    color: '#FFD700',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  shotType: {\n    color: '#CCC',\n    fontSize: 14,\n    textTransform: 'capitalize'\n  },\n  shotDuration: {\n    color: '#FFD700',\n    fontSize: 14\n  },\n  sketchImage: {\n    width: '100%',\n    height: 150,\n    borderRadius: 8,\n    marginBottom: 10,\n    backgroundColor: '#333'\n  },\n  shotDescription: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    marginBottom: 10,\n    lineHeight: 20\n  },\n  shotDetails: {\n    flexDirection: 'row',\n    marginBottom: 5\n  },\n  difficultyContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  difficultyStars: {\n    flexDirection: 'row'\n  },\n  star: {\n    fontSize: 16,\n    marginRight: 2\n  },\n  multiDeviceSection: {\n    backgroundColor: '#2a2a2a',\n    padding: 20,\n    borderRadius: 15,\n    marginBottom: 20\n  },\n  sectionTitle: {\n    color: '#FFD700',\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center'\n  },\n  multiDeviceToggle: {\n    backgroundColor: '#333',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#555'\n  },\n  multiDeviceToggleActive: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700'\n  },\n  multiDeviceToggleText: {\n    color: '#FFFFFF',\n    fontWeight: '600'\n  },\n  multiDeviceToggleTextActive: {\n    color: '#1a1a1a'\n  },\n  multiDeviceControls: {\n    marginTop: 15\n  },\n  generateCodeButton: {\n    backgroundColor: '#666',\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center'\n  },\n  generateCodeButtonText: {\n    color: '#FFFFFF',\n    fontWeight: '600'\n  },\n  collaborationCodeContainer: {\n    marginTop: 15,\n    alignItems: 'center'\n  },\n  collaborationCodeLabel: {\n    color: '#CCC',\n    marginBottom: 5\n  },\n  collaborationCode: {\n    color: '#FFD700',\n    fontSize: 24,\n    fontWeight: 'bold',\n    letterSpacing: 2\n  },\n  startFilmingButton: {\n    backgroundColor: '#FFD700',\n    padding: 20,\n    borderRadius: 25,\n    alignItems: 'center'\n  },\n  startFilmingButtonText: {\n    color: '#1a1a1a',\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});\nexport default CreateSceneScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","ScrollView","SafeAreaView","TextInput","ActivityIndicator","Image","Alert","Modal","aiService","deviceService","useProject","jsx","_jsx","jsxs","_jsxs","CreateSceneScreen","_ref","navigation","_useState","_useState2","_slicedToArray","step","setStep","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","genre","actorCount","location","timeOfDay","experienceLevel","equipment","maxDuration","_useState8","constraints","setConstraints","_useState9","_useState0","generatedPrompt","setGeneratedPrompt","_useState1","_useState10","storyboard","setStoryboard","_useState11","_useState12","sketchImages","setSketchImages","_useState13","_useState14","multiDeviceEnabled","setMultiDeviceEnabled","_useState15","_useState16","deviceStatus","setDeviceStatus","_useState17","_useState18","collaborationCode","setCollaborationCode","_useProject","addProject","initialize","renderConstraintsStep","style","styles","stepContainer","children","stepTitle","stepSubtitle","constraintSection","constraintLabel","horizontal","showsHorizontalScrollIndicator","genreScrollView","map","genreButton","selectedGenreButton","onPress","prev","_objectSpread","genreText","selectedGenreText","charAt","toUpperCase","slice","actorCountContainer","count","actorCountButton","selectedActorButton","actorCountText","selectedActorText","locationContainer","key","label","icon","locationButton","selectedLocationButton","locationIcon","locationText","selectedLocationText","split","experienceContainer","level","experienceButton","selectedExperienceButton","experienceText","selectedExperienceText","nextButton","nextButtonText","generateScenePrompt","_ref2","_asyncToGenerator","validation","validateConstraints","isValid","Error","violations","join","result","generateStoryPrompt","success","data","err","message","alert","apply","arguments","generateStoryboard","_ref3","storyboardResult","sketches","shot","shots","sketchResult","generateSketchStoryboard","description","shotType","shotNumber","imageUrl","renderGenerateStep","generateContainer","generateDescription","generateButton","disabledButton","disabled","color","generateButtonText","promptContainer","promptTitle","title","promptDescription","promptDetails","detailLabel","detailValue","estimatedDuration","dialogue","dialogueContainer","dialogueText","instructionsContainer","instructionsText","blockingInstructions","actionButtons","regenerateButton","regenerateButtonText","continueButton","continueButtonText","renderStoryboardStep","storyboardContainer","index","shotCard","shotHeader","replace","shotDuration","duration","source","uri","sketchImage","resizeMode","shotDescription","shotDetails","cameraPosition","actorPositions","difficultyContainer","difficultyStars","_toConsumableArray","Array","_","i","star","difficulty","multiDeviceSection","sectionTitle","multiDeviceToggle","multiDeviceToggleActive","multiDeviceToggleText","multiDeviceToggleTextActive","multiDeviceControls","generateCodeButton","generateCollaborationCode","generateCodeButtonText","collaborationCodeContainer","collaborationCodeLabel","startFilmingButton","startFilming","startFilmingButtonText","_ref4","getDevicesStatus","_ref5","projectData","status","project","navigate","projectId","id","deviceRole","container","header","goBack","backButton","headerTitle","stepIndicator","content","errorContainer","errorText","create","flex","backgroundColor","flexDirection","justifyContent","alignItems","paddingHorizontal","paddingVertical","borderBottomWidth","borderBottomColor","fontSize","fontWeight","padding","borderRadius","marginBottom","textAlign","marginRight","borderWidth","borderColor","width","height","marginHorizontal","marginTop","lineHeight","minWidth","fontStyle","maxHeight","textTransform","letterSpacing"],"sources":["/workspace/MakeAScene/screens/CreateSceneScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ScrollView,\n  SafeAreaView,\n  TextInput,\n  ActivityIndicator,\n  Image,\n  Alert,\n  Modal\n} from 'react-native';\nimport aiService from '../lib/ai/aiService';\nimport { deviceService } from '../lib/multiDevice/deviceService';\nimport { useProject } from '../src/contexts/ProjectContext';\n\nconst CreateSceneScreen = ({ navigation }) => {\n  // Core state\n  const [step, setStep] = useState(1); // 1: Constraints, 2: Generate, 3: Storyboard, 4: Multi-device\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Constraint configuration\n  const [constraints, setConstraints] = useState({\n    genre: 'drama',\n    actorCount: 2,\n    location: 'indoor',\n    timeOfDay: 'day',\n    experienceLevel: 'beginner',\n    equipment: ['smartphone'],\n    maxDuration: 60\n  });\n\n  // Generated content\n  const [generatedPrompt, setGeneratedPrompt] = useState(null);\n  const [storyboard, setStoryboard] = useState(null);\n  const [sketchImages, setSketchImages] = useState({});\n\n  // Multi-device state\n  const [multiDeviceEnabled, setMultiDeviceEnabled] = useState(false);\n  const [deviceStatus, setDeviceStatus] = useState(null);\n  const [collaborationCode, setCollaborationCode] = useState(null);\n\n  const { addProject } = useProject();\n\n  useEffect(() => {\n    // Initialize device service\n    deviceService.initialize();\n  }, []);\n\n  // Step 1: Configure Constraints\n  const renderConstraintsStep = () => (\n    <View style={styles.stepContainer}>\n      <Text style={styles.stepTitle}>üé¨ Scene Setup</Text>\n      <Text style={styles.stepSubtitle}>Configure your filming constraints</Text>\n\n      <View style={styles.constraintSection}>\n        <Text style={styles.constraintLabel}>Genre</Text>\n        <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.genreScrollView}>\n          {['horror', 'comedy', 'romance', 'drama', 'action', 'mystery'].map((genre) => (\n            <TouchableOpacity\n              key={genre}\n              style={[\n                styles.genreButton,\n                constraints.genre === genre && styles.selectedGenreButton\n              ]}\n              onPress={() => setConstraints(prev => ({ ...prev, genre }))}\n            >\n              <Text style={[\n                styles.genreText,\n                constraints.genre === genre && styles.selectedGenreText\n              ]}>\n                {genre.charAt(0).toUpperCase() + genre.slice(1)}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </ScrollView>\n      </View>\n\n      <View style={styles.constraintSection}>\n        <Text style={styles.constraintLabel}>Number of Actors: {constraints.actorCount}</Text>\n        <View style={styles.actorCountContainer}>\n          {[1, 2, 3, 4, 5, 6].map((count) => (\n            <TouchableOpacity\n              key={count}\n              style={[\n                styles.actorCountButton,\n                constraints.actorCount === count && styles.selectedActorButton\n              ]}\n              onPress={() => setConstraints(prev => ({ ...prev, actorCount: count }))}\n            >\n              <Text style={[\n                styles.actorCountText,\n                constraints.actorCount === count && styles.selectedActorText\n              ]}>\n                {count}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n\n      <View style={styles.constraintSection}>\n        <Text style={styles.constraintLabel}>Location</Text>\n        <View style={styles.locationContainer}>\n          {[\n            { key: 'indoor', label: 'üè† Indoor', icon: 'üè†' },\n            { key: 'outdoor', label: 'üå≥ Outdoor', icon: 'üå≥' },\n            { key: 'mixed', label: 'üåç Mixed', icon: 'üåç' }\n          ].map((location) => (\n            <TouchableOpacity\n              key={location.key}\n              style={[\n                styles.locationButton,\n                constraints.location === location.key && styles.selectedLocationButton\n              ]}\n              onPress={() => setConstraints(prev => ({ ...prev, location: location.key }))}\n            >\n              <Text style={styles.locationIcon}>{location.icon}</Text>\n              <Text style={[\n                styles.locationText,\n                constraints.location === location.key && styles.selectedLocationText\n              ]}>\n                {location.label.split(' ')[1]}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n\n      <View style={styles.constraintSection}>\n        <Text style={styles.constraintLabel}>Experience Level</Text>\n        <View style={styles.experienceContainer}>\n          {[\n            { key: 'beginner', label: 'Beginner' },\n            { key: 'intermediate', label: 'Intermediate' },\n            { key: 'advanced', label: 'Advanced' }\n          ].map((level) => (\n            <TouchableOpacity\n              key={level.key}\n              style={[\n                styles.experienceButton,\n                constraints.experienceLevel === level.key && styles.selectedExperienceButton\n              ]}\n              onPress={() => setConstraints(prev => ({ ...prev, experienceLevel: level.key }))}\n            >\n              <Text style={[\n                styles.experienceText,\n                constraints.experienceLevel === level.key && styles.selectedExperienceText\n              ]}>\n                {level.label}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </View>\n\n      <TouchableOpacity\n        style={styles.nextButton}\n        onPress={() => setStep(2)}\n      >\n        <Text style={styles.nextButtonText}>Generate Scene Prompt üöÄ</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  // Step 2: Generate AI Prompt\n  const generateScenePrompt = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // First validate constraints\n      const validation = aiService.validateConstraints(constraints);\n      if (!validation.isValid) {\n        throw new Error(`Invalid constraints: ${validation.violations.join(', ')}`);\n      }\n\n      // Generate AI prompt\n      const result = await aiService.generateStoryPrompt(constraints);\n      \n      if (!result.success) {\n        throw new Error(result.error);\n      }\n\n      setGeneratedPrompt(result.data);\n      setStep(3);\n    } catch (err) {\n      setError(err.message);\n      Alert.alert('Generation Error', err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Step 3: Review Generated Prompt and Create Storyboard\n  const generateStoryboard = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Generate storyboard with shots\n      const storyboardResult = await aiService.generateStoryboard(generatedPrompt, constraints);\n      \n      if (!storyboardResult.success) {\n        throw new Error(storyboardResult.error);\n      }\n\n      setStoryboard(storyboardResult.data);\n\n      // Generate sketch images for each shot\n      const sketches = {};\n      for (const shot of storyboardResult.data.shots) {\n        const sketchResult = await aiService.generateSketchStoryboard(\n          shot.description,\n          shot.shotType\n        );\n        \n        if (sketchResult.success) {\n          sketches[shot.shotNumber] = sketchResult.data.imageUrl;\n        }\n      }\n      \n      setSketchImages(sketches);\n      setStep(4);\n    } catch (err) {\n      setError(err.message);\n      Alert.alert('Storyboard Error', err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderGenerateStep = () => (\n    <View style={styles.stepContainer}>\n      <Text style={styles.stepTitle}>‚ú® AI Scene Generation</Text>\n      \n      {!generatedPrompt && (\n        <View style={styles.generateContainer}>\n          <Text style={styles.generateDescription}>\n            Ready to create your {constraints.genre} scene with {constraints.actorCount} actor(s) \n            in an {constraints.location} location!\n          </Text>\n          \n          <TouchableOpacity\n            style={[styles.generateButton, loading && styles.disabledButton]}\n            onPress={generateScenePrompt}\n            disabled={loading}\n          >\n            {loading ? (\n              <ActivityIndicator color=\"#FFFFFF\" />\n            ) : (\n              <Text style={styles.generateButtonText}>üé≠ Generate Scene</Text>\n            )}\n          </TouchableOpacity>\n        </View>\n      )}\n\n      {generatedPrompt && (\n        <View style={styles.promptContainer}>\n          <Text style={styles.promptTitle}>{generatedPrompt.title}</Text>\n          <Text style={styles.promptDescription}>{generatedPrompt.description}</Text>\n          \n          <View style={styles.promptDetails}>\n            <Text style={styles.detailLabel}>Duration:</Text>\n            <Text style={styles.detailValue}>{generatedPrompt.estimatedDuration}s</Text>\n          </View>\n\n          {generatedPrompt.dialogue && (\n            <View style={styles.dialogueContainer}>\n              <Text style={styles.detailLabel}>Dialogue:</Text>\n              <Text style={styles.dialogueText}>{generatedPrompt.dialogue}</Text>\n            </View>\n          )}\n\n          <View style={styles.instructionsContainer}>\n            <Text style={styles.detailLabel}>Blocking Instructions:</Text>\n            <Text style={styles.instructionsText}>{generatedPrompt.blockingInstructions}</Text>\n          </View>\n\n          <View style={styles.actionButtons}>\n            <TouchableOpacity\n              style={styles.regenerateButton}\n              onPress={generateScenePrompt}\n            >\n              <Text style={styles.regenerateButtonText}>üîÑ Regenerate</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={styles.continueButton}\n              onPress={generateStoryboard}\n            >\n              <Text style={styles.continueButtonText}>Create Storyboard üé®</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      )}\n    </View>\n  );\n\n  // Step 4: Storyboard Review and Multi-device Setup\n  const renderStoryboardStep = () => (\n    <View style={styles.stepContainer}>\n      <Text style={styles.stepTitle}>üé® Professional Storyboard</Text>\n      \n      {storyboard && (\n        <ScrollView style={styles.storyboardContainer}>\n          {storyboard.shots.map((shot, index) => (\n            <View key={shot.shotNumber} style={styles.shotCard}>\n              <View style={styles.shotHeader}>\n                <Text style={styles.shotNumber}>Shot {shot.shotNumber}</Text>\n                <Text style={styles.shotType}>{shot.shotType.replace('_', ' ')}</Text>\n                <Text style={styles.shotDuration}>{shot.duration}s</Text>\n              </View>\n\n              {sketchImages[shot.shotNumber] && (\n                <Image \n                  source={{ uri: sketchImages[shot.shotNumber] }} \n                  style={styles.sketchImage} \n                  resizeMode=\"contain\"\n                />\n              )}\n\n              <Text style={styles.shotDescription}>{shot.description}</Text>\n              \n              <View style={styles.shotDetails}>\n                <Text style={styles.detailLabel}>Camera:</Text>\n                <Text style={styles.detailValue}>{shot.cameraPosition}</Text>\n              </View>\n\n              <View style={styles.shotDetails}>\n                <Text style={styles.detailLabel}>Actors:</Text>\n                <Text style={styles.detailValue}>{shot.actorPositions}</Text>\n              </View>\n\n              <View style={styles.difficultyContainer}>\n                <Text style={styles.detailLabel}>Difficulty:</Text>\n                <View style={styles.difficultyStars}>\n                  {[...Array(5)].map((_, i) => (\n                    <Text key={i} style={styles.star}>\n                      {i < shot.difficulty ? '‚≠ê' : '‚òÜ'}\n                    </Text>\n                  ))}\n                </View>\n              </View>\n            </View>\n          ))}\n        </ScrollView>\n      )}\n\n      <View style={styles.multiDeviceSection}>\n        <Text style={styles.sectionTitle}>üì± Multi-Device Filming</Text>\n        \n        <TouchableOpacity\n          style={[\n            styles.multiDeviceToggle,\n            multiDeviceEnabled && styles.multiDeviceToggleActive\n          ]}\n          onPress={() => setMultiDeviceEnabled(!multiDeviceEnabled)}\n        >\n          <Text style={[\n            styles.multiDeviceToggleText,\n            multiDeviceEnabled && styles.multiDeviceToggleTextActive\n          ]}>\n            {multiDeviceEnabled ? 'Multi-Device Enabled' : 'Enable Multi-Device'}\n          </Text>\n        </TouchableOpacity>\n\n        {multiDeviceEnabled && (\n          <View style={styles.multiDeviceControls}>\n            <TouchableOpacity\n              style={styles.generateCodeButton}\n              onPress={generateCollaborationCode}\n            >\n              <Text style={styles.generateCodeButtonText}>Generate Collaboration Code</Text>\n            </TouchableOpacity>\n\n            {collaborationCode && (\n              <View style={styles.collaborationCodeContainer}>\n                <Text style={styles.collaborationCodeLabel}>Share this code:</Text>\n                <Text style={styles.collaborationCode}>{collaborationCode}</Text>\n              </View>\n            )}\n          </View>\n        )}\n      </View>\n\n      <TouchableOpacity\n        style={styles.startFilmingButton}\n        onPress={startFilming}\n      >\n        <Text style={styles.startFilmingButtonText}>üé¨ Start Filming</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  // Generate collaboration code for multi-device\n  const generateCollaborationCode = async () => {\n    try {\n      const result = deviceService.generateCollaborationCode();\n      setCollaborationCode(result.collaborationCode);\n      \n      // Update device status\n      setDeviceStatus(deviceService.getDevicesStatus());\n    } catch (error) {\n      Alert.alert('Error', 'Failed to generate collaboration code');\n    }\n  };\n\n  // Start filming process\n  const startFilming = async () => {\n    try {\n      // Create project in database\n      const projectData = {\n        title: generatedPrompt.title,\n        description: generatedPrompt.description,\n        genre: constraints.genre,\n        storyboard: storyboard,\n        constraints: constraints,\n        multiDeviceEnabled: multiDeviceEnabled,\n        collaborationCode: collaborationCode,\n        status: 'filming'\n      };\n\n      const project = await addProject(projectData);\n      \n      // Navigate to filming screen\n      navigation.navigate('FilmingScreen', {\n        projectId: project.id,\n        storyboard: storyboard,\n        multiDeviceEnabled: multiDeviceEnabled,\n        deviceRole: deviceService.deviceRole\n      });\n    } catch (error) {\n      Alert.alert('Error', 'Failed to create project: ' + error.message);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => navigation.goBack()}>\n          <Text style={styles.backButton}>‚Üê Back</Text>\n        </TouchableOpacity>\n        <Text style={styles.headerTitle}>Create Scene</Text>\n        <Text style={styles.stepIndicator}>Step {step}/4</Text>\n      </View>\n\n      <ScrollView style={styles.content}>\n        {error && (\n          <View style={styles.errorContainer}>\n            <Text style={styles.errorText}>{error}</Text>\n          </View>\n        )}\n\n        {step === 1 && renderConstraintsStep()}\n        {step === 2 && renderGenerateStep()}\n        {step === 3 && renderStoryboardStep()}\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#1a1a1a',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#333',\n  },\n  backButton: {\n    color: '#FFD700',\n    fontSize: 16,\n  },\n  headerTitle: {\n    color: '#FFFFFF',\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n  stepIndicator: {\n    color: '#FFD700',\n    fontSize: 14,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  errorContainer: {\n    backgroundColor: '#ff4444',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 20,\n  },\n  errorText: {\n    color: '#FFFFFF',\n    textAlign: 'center',\n  },\n  stepContainer: {\n    flex: 1,\n  },\n  stepTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  stepSubtitle: {\n    fontSize: 16,\n    color: '#CCC',\n    textAlign: 'center',\n    marginBottom: 30,\n  },\n  constraintSection: {\n    marginBottom: 25,\n  },\n  constraintLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#FFD700',\n    marginBottom: 10,\n  },\n  genreScrollView: {\n    flexDirection: 'row',\n  },\n  genreButton: {\n    backgroundColor: '#333',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 20,\n    marginRight: 10,\n    borderWidth: 1,\n    borderColor: '#555',\n  },\n  selectedGenreButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700',\n  },\n  genreText: {\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  selectedGenreText: {\n    color: '#1a1a1a',\n  },\n  actorCountContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  actorCountButton: {\n    backgroundColor: '#333',\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#555',\n  },\n  selectedActorButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700',\n  },\n  actorCountText: {\n    color: '#FFFFFF',\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n  selectedActorText: {\n    color: '#1a1a1a',\n  },\n  locationContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  locationButton: {\n    backgroundColor: '#333',\n    flex: 1,\n    alignItems: 'center',\n    padding: 15,\n    borderRadius: 10,\n    marginHorizontal: 5,\n    borderWidth: 1,\n    borderColor: '#555',\n  },\n  selectedLocationButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700',\n  },\n  locationIcon: {\n    fontSize: 24,\n    marginBottom: 5,\n  },\n  locationText: {\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  selectedLocationText: {\n    color: '#1a1a1a',\n  },\n  experienceContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  experienceButton: {\n    backgroundColor: '#333',\n    flex: 1,\n    alignItems: 'center',\n    padding: 15,\n    borderRadius: 10,\n    marginHorizontal: 5,\n    borderWidth: 1,\n    borderColor: '#555',\n  },\n  selectedExperienceButton: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700',\n  },\n  experienceText: {\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  selectedExperienceText: {\n    color: '#1a1a1a',\n  },\n  nextButton: {\n    backgroundColor: '#FFD700',\n    padding: 18,\n    borderRadius: 25,\n    alignItems: 'center',\n    marginTop: 30,\n  },\n  nextButtonText: {\n    color: '#1a1a1a',\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n  generateContainer: {\n    alignItems: 'center',\n    padding: 30,\n  },\n  generateDescription: {\n    color: '#CCC',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 30,\n    lineHeight: 24,\n  },\n  generateButton: {\n    backgroundColor: '#FFD700',\n    paddingHorizontal: 40,\n    paddingVertical: 15,\n    borderRadius: 25,\n    minWidth: 200,\n    alignItems: 'center',\n  },\n  disabledButton: {\n    backgroundColor: '#666',\n  },\n  generateButtonText: {\n    color: '#1a1a1a',\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n  promptContainer: {\n    backgroundColor: '#2a2a2a',\n    padding: 20,\n    borderRadius: 15,\n    borderWidth: 1,\n    borderColor: '#FFD700',\n  },\n  promptTitle: {\n    color: '#FFD700',\n    fontSize: 22,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center',\n  },\n  promptDescription: {\n    color: '#FFFFFF',\n    fontSize: 16,\n    lineHeight: 24,\n    marginBottom: 20,\n  },\n  promptDetails: {\n    flexDirection: 'row',\n    marginBottom: 15,\n  },\n  detailLabel: {\n    color: '#FFD700',\n    fontWeight: 'bold',\n    marginRight: 10,\n  },\n  detailValue: {\n    color: '#FFFFFF',\n    flex: 1,\n  },\n  dialogueContainer: {\n    marginBottom: 15,\n  },\n  dialogueText: {\n    color: '#FFFFFF',\n    fontStyle: 'italic',\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  instructionsContainer: {\n    marginBottom: 20,\n  },\n  instructionsText: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  actionButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  regenerateButton: {\n    backgroundColor: '#666',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 20,\n    flex: 0.45,\n    alignItems: 'center',\n  },\n  regenerateButtonText: {\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  continueButton: {\n    backgroundColor: '#FFD700',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 20,\n    flex: 0.45,\n    alignItems: 'center',\n  },\n  continueButtonText: {\n    color: '#1a1a1a',\n    fontWeight: 'bold',\n  },\n  storyboardContainer: {\n    maxHeight: 400,\n    marginBottom: 20,\n  },\n  shotCard: {\n    backgroundColor: '#2a2a2a',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 15,\n    borderWidth: 1,\n    borderColor: '#444',\n  },\n  shotHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  shotNumber: {\n    color: '#FFD700',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  shotType: {\n    color: '#CCC',\n    fontSize: 14,\n    textTransform: 'capitalize',\n  },\n  shotDuration: {\n    color: '#FFD700',\n    fontSize: 14,\n  },\n  sketchImage: {\n    width: '100%',\n    height: 150,\n    borderRadius: 8,\n    marginBottom: 10,\n    backgroundColor: '#333',\n  },\n  shotDescription: {\n    color: '#FFFFFF',\n    fontSize: 14,\n    marginBottom: 10,\n    lineHeight: 20,\n  },\n  shotDetails: {\n    flexDirection: 'row',\n    marginBottom: 5,\n  },\n  difficultyContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  difficultyStars: {\n    flexDirection: 'row',\n  },\n  star: {\n    fontSize: 16,\n    marginRight: 2,\n  },\n  multiDeviceSection: {\n    backgroundColor: '#2a2a2a',\n    padding: 20,\n    borderRadius: 15,\n    marginBottom: 20,\n  },\n  sectionTitle: {\n    color: '#FFD700',\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center',\n  },\n  multiDeviceToggle: {\n    backgroundColor: '#333',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#555',\n  },\n  multiDeviceToggleActive: {\n    backgroundColor: '#FFD700',\n    borderColor: '#FFD700',\n  },\n  multiDeviceToggleText: {\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  multiDeviceToggleTextActive: {\n    color: '#1a1a1a',\n  },\n  multiDeviceControls: {\n    marginTop: 15,\n  },\n  generateCodeButton: {\n    backgroundColor: '#666',\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  generateCodeButtonText: {\n    color: '#FFFFFF',\n    fontWeight: '600',\n  },\n  collaborationCodeContainer: {\n    marginTop: 15,\n    alignItems: 'center',\n  },\n  collaborationCodeLabel: {\n    color: '#CCC',\n    marginBottom: 5,\n  },\n  collaborationCode: {\n    color: '#FFD700',\n    fontSize: 24,\n    fontWeight: 'bold',\n    letterSpacing: 2,\n  },\n  startFilmingButton: {\n    backgroundColor: '#FFD700',\n    padding: 20,\n    borderRadius: 25,\n    alignItems: 'center',\n  },\n  startFilmingButtonText: {\n    color: '#1a1a1a',\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n});\n\nexport default CreateSceneScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}